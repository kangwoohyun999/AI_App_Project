{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { LineChart } from 'react-native-chart-kit';\nimport { computeWordTimeSeries } from \"../utils/storage\";\nimport { WORD_DICT } from \"../utils/wordDictionary\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar screenWidth = Dimensions.get('window').width;\nexport default function GraphScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    dates = _useState2[0],\n    setDates = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    words = _useState4[0],\n    setWords = _useState4[1];\n  var _useState5 = useState({}),\n    _useState6 = _slicedToArray(_useState5, 2),\n    dataMap = _useState6[0],\n    setDataMap = _useState6[1];\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var res = yield computeWordTimeSeries(14);\n      setDates(res.dates);\n      setWords(res.words);\n      setDataMap(res.data);\n    })();\n  }, []);\n  var datasets = words.map(function (w) {\n    var color = WORD_DICT[w] && WORD_DICT[w].sentiment === 'positive' ? function () {\n      return '#ff3b30';\n    } : function () {\n      return '#007aff';\n    };\n    return {\n      data: dataMap[w] || Array(dates.length).fill(0),\n      color: color\n    };\n  });\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"\\uB2E8\\uC5B4\\uBCC4 \\uC911\\uC694\\uB3C4 \\xB7 \\uBE48\\uB3C4 \\uADF8\\uB798\\uD504 (\\uCD5C\\uADFC 14\\uC77C)\"\n    }), _jsx(ScrollView, {\n      horizontal: true,\n      contentContainerStyle: {\n        paddingHorizontal: 12\n      },\n      children: _jsx(View, {\n        children: _jsx(LineChart, {\n          data: {\n            labels: dates.length ? dates.map(function (d) {\n              return d.slice(5);\n            }) : ['-', '-', '-', '-'],\n            datasets: datasets.length ? datasets : [{\n              data: [0, 0, 0, 0, 0, 0, 0],\n              color: function color() {\n                return '#ff3b30';\n              }\n            }],\n            legend: words.length ? words : ['예시단어']\n          },\n          width: Math.max(screenWidth, (dates.length || 7) * 60),\n          height: 320,\n          chartConfig: {\n            backgroundGradientFrom: '#0f0b12',\n            backgroundGradientTo: '#0f0b12',\n            decimalPlaces: 0,\n            color: function color() {\n              var opacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n              return \"rgba(255,255,255,\" + opacity + \")\";\n            },\n            labelColor: function labelColor() {\n              return '#fff';\n            }\n          },\n          bezier: true,\n          style: {\n            borderRadius: 12\n          },\n          decorator: function decorator() {\n            return null;\n          }\n        })\n      })\n    }), _jsx(TouchableOpacity, {\n      style: styles.backBtn,\n      onPress: function onPress() {\n        return navigation.goBack();\n      },\n      children: _jsx(Text, {\n        style: {\n          color: '#fff'\n        },\n        children: \"\\uB4A4\\uB85C\"\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#0f0b12',\n    padding: 12,\n    alignItems: 'center'\n  },\n  title: {\n    color: '#fff',\n    fontSize: 18,\n    marginBottom: 12,\n    textAlign: 'center'\n  },\n  backBtn: {\n    marginTop: 12,\n    backgroundColor: '#2a2430',\n    padding: 12,\n    borderRadius: 8,\n    width: '90%',\n    alignItems: 'center'\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","SafeAreaView","Text","TouchableOpacity","StyleSheet","Dimensions","ScrollView","LineChart","computeWordTimeSeries","WORD_DICT","jsx","_jsx","jsxs","_jsxs","screenWidth","get","width","GraphScreen","_ref","navigation","_useState","_useState2","_slicedToArray","dates","setDates","_useState3","_useState4","words","setWords","_useState5","_useState6","dataMap","setDataMap","_asyncToGenerator","res","data","datasets","map","w","color","sentiment","Array","length","fill","style","styles","container","children","title","horizontal","contentContainerStyle","paddingHorizontal","View","labels","d","slice","legend","Math","max","height","chartConfig","backgroundGradientFrom","backgroundGradientTo","decimalPlaces","opacity","arguments","undefined","labelColor","bezier","borderRadius","decorator","backBtn","onPress","goBack","create","flex","backgroundColor","padding","alignItems","fontSize","marginBottom","textAlign","marginTop"],"sources":["/Users/youlim/Documents/GitHub/AI_App_Project/Today_Condition/screens/GraphScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { SafeAreaView, Text, TouchableOpacity, StyleSheet, Dimensions, ScrollView } from 'react-native';\nimport { LineChart } from 'react-native-chart-kit';\nimport { computeWordTimeSeries } from '../utils/storage';\nimport { WORD_DICT } from '../utils/wordDictionary';\n\nconst screenWidth = Dimensions.get('window').width;\n\nexport default function GraphScreen({ navigation }) {\n  const [dates, setDates] = useState([]);\n  const [words, setWords] = useState([]);\n  const [dataMap, setDataMap] = useState({});\n\n  useEffect(() => {\n    (async () => {\n      const res = await computeWordTimeSeries(14);\n      setDates(res.dates);\n      setWords(res.words);\n      setDataMap(res.data);\n    })();\n  }, []);\n\n  const datasets = words.map(w => {\n    const color = (WORD_DICT[w] && WORD_DICT[w].sentiment === 'positive') ? () => '#ff3b30' : () => '#007aff';\n    return { data: dataMap[w] || Array(dates.length).fill(0), color };\n  });\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <Text style={styles.title}>단어별 중요도 · 빈도 그래프 (최근 14일)</Text>\n      <ScrollView horizontal contentContainerStyle={{ paddingHorizontal: 12 }}>\n        <View>\n          <LineChart\n            data={{\n              labels: dates.length ? dates.map(d => d.slice(5)) : ['-','-','-','-'],\n              datasets: datasets.length ? datasets : [{ data: [0,0,0,0,0,0,0], color: () => '#ff3b30' }],\n              legend: words.length ? words : ['예시단어']\n            }}\n            width={Math.max(screenWidth, (dates.length||7) * 60)}\n            height={320}\n            chartConfig={{\n              backgroundGradientFrom: '#0f0b12',\n              backgroundGradientTo: '#0f0b12',\n              decimalPlaces: 0,\n              color: (opacity = 1) => `rgba(255,255,255,${opacity})`,\n              labelColor: () => '#fff'\n            }}\n            bezier\n            style={{ borderRadius: 12 }}\n            decorator={() => null}\n          />\n        </View>\n      </ScrollView>\n\n      <TouchableOpacity style={styles.backBtn} onPress={() => navigation.goBack()}>\n        <Text style={{ color:'#fff' }}>뒤로</Text>\n      </TouchableOpacity>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: { flex:1, backgroundColor:'#0f0b12', padding:12, alignItems:'center' },\n  title: { color:'#fff', fontSize:18, marginBottom:12, textAlign:'center' },\n  backBtn: { marginTop:12, backgroundColor:'#2a2430', padding:12, borderRadius:8, width:'90%', alignItems:'center' }\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}