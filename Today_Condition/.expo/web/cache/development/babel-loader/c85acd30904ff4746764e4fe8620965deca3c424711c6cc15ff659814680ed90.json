{"ast":null,"code":"import { WORD_DICT } from \"./wordDictionary\";\nexport function extractKeywordsWithWeights(text) {\n  if (!text) return {\n    keywords: [],\n    counts: {},\n    weighted: {}\n  };\n  var norm = text.toLowerCase().replace(/[.,!?;:()\\[\\]\\\"']/g, ' ');\n  var tokens = norm.split(/\\s+/).filter(Boolean);\n  var counts = {};\n  var weighted = {};\n  tokens.forEach(function (token) {\n    Object.keys(WORD_DICT).forEach(function (key) {\n      var _WORD_DICT$key = WORD_DICT[key],\n        synonyms = _WORD_DICT$key.synonyms,\n        weight = _WORD_DICT$key.weight;\n      synonyms.forEach(function (syn) {\n        if (token.includes(syn)) {\n          counts[key] = (counts[key] || 0) + 1;\n          weighted[key] = (weighted[key] || 0) + weight;\n        }\n      });\n    });\n  });\n  var keywords = Object.keys(counts);\n  return {\n    keywords: keywords,\n    counts: counts,\n    weighted: weighted\n  };\n}","map":{"version":3,"names":["WORD_DICT","extractKeywordsWithWeights","text","keywords","counts","weighted","norm","toLowerCase","replace","tokens","split","filter","Boolean","forEach","token","Object","keys","key","_WORD_DICT$key","synonyms","weight","syn","includes"],"sources":["/Users/youlim/Documents/GitHub/AI_App_Project/Today_Condition/utils/keywordExtractor.js"],"sourcesContent":["import { WORD_DICT } from './wordDictionary';\n\nexport function extractKeywordsWithWeights(text) {\n  if (!text) return { keywords: [], counts: {}, weighted: {} };\n  const norm = text.toLowerCase().replace(/[.,!?;:()\\[\\]\\\"']/g, ' ');\n  const tokens = norm.split(/\\s+/).filter(Boolean);\n\n  const counts = {};\n  const weighted = {};\n\n  tokens.forEach(token => {\n    Object.keys(WORD_DICT).forEach(key => {\n      const { synonyms, weight } = WORD_DICT[key];\n      synonyms.forEach(syn => {\n        if (token.includes(syn)) {\n          counts[key] = (counts[key] || 0) + 1;\n          weighted[key] = (weighted[key] || 0) + weight;\n        }\n      });\n    });\n  });\n\n  const keywords = Object.keys(counts);\n  return { keywords, counts, weighted };\n}\n"],"mappings":"AAAA,SAASA,SAAS;AAElB,OAAO,SAASC,0BAA0BA,CAACC,IAAI,EAAE;EAC/C,IAAI,CAACA,IAAI,EAAE,OAAO;IAAEC,QAAQ,EAAE,EAAE;IAAEC,MAAM,EAAE,CAAC,CAAC;IAAEC,QAAQ,EAAE,CAAC;EAAE,CAAC;EAC5D,IAAMC,IAAI,GAAGJ,IAAI,CAACK,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,oBAAoB,EAAE,GAAG,CAAC;EAClE,IAAMC,MAAM,GAAGH,IAAI,CAACI,KAAK,CAAC,KAAK,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC;EAEhD,IAAMR,MAAM,GAAG,CAAC,CAAC;EACjB,IAAMC,QAAQ,GAAG,CAAC,CAAC;EAEnBI,MAAM,CAACI,OAAO,CAAC,UAAAC,KAAK,EAAI;IACtBC,MAAM,CAACC,IAAI,CAAChB,SAAS,CAAC,CAACa,OAAO,CAAC,UAAAI,GAAG,EAAI;MACpC,IAAAC,cAAA,GAA6BlB,SAAS,CAACiB,GAAG,CAAC;QAAnCE,QAAQ,GAAAD,cAAA,CAARC,QAAQ;QAAEC,MAAM,GAAAF,cAAA,CAANE,MAAM;MACxBD,QAAQ,CAACN,OAAO,CAAC,UAAAQ,GAAG,EAAI;QACtB,IAAIP,KAAK,CAACQ,QAAQ,CAACD,GAAG,CAAC,EAAE;UACvBjB,MAAM,CAACa,GAAG,CAAC,GAAG,CAACb,MAAM,CAACa,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;UACpCZ,QAAQ,CAACY,GAAG,CAAC,GAAG,CAACZ,QAAQ,CAACY,GAAG,CAAC,IAAI,CAAC,IAAIG,MAAM;QAC/C;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,IAAMjB,QAAQ,GAAGY,MAAM,CAACC,IAAI,CAACZ,MAAM,CAAC;EACpC,OAAO;IAAED,QAAQ,EAARA,QAAQ;IAAEC,MAAM,EAANA,MAAM;IAAEC,QAAQ,EAARA;EAAS,CAAC;AACvC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}