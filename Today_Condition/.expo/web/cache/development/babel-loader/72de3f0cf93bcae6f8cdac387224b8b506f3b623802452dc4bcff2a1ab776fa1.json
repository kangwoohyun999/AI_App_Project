{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport PieChartComponent from \"../components/PieChartComponent\";\nimport { getEntries } from \"../utils/storage\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function HomeScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(0.0),\n    _useState2 = _slicedToArray(_useState, 2),\n    positiveRatio = _useState2[0],\n    setPositiveRatio = _useState2[1];\n  var _useState3 = useState(0.0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    negativeRatio = _useState4[0],\n    setNegativeRatio = _useState4[1];\n  useEffect(function () {\n    var unsubscribe = navigation.addListener('focus', _asyncToGenerator(function* () {\n      var entries = yield getEntries();\n      var posScore = entries.reduce(function (acc, e) {\n        return acc + (e.sentiment.label === 'positive' ? 1 : 0);\n      }, 0);\n      var negScore = entries.reduce(function (acc, e) {\n        return acc + (e.sentiment.label === 'negative' ? 1 : 0);\n      }, 0);\n      var total = posScore + negScore;\n      if (total === 0) {\n        setPositiveRatio(0.0);\n        setNegativeRatio(0.0);\n      } else {\n        setPositiveRatio(posScore / total);\n        setNegativeRatio(negScore / total);\n      }\n    }));\n    return unsubscribe;\n  }, [navigation]);\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"\\uB204\\uC801 \\uC0C1\\uD0DC\"\n    }), _jsx(PieChartComponent, {\n      positive: positiveRatio,\n      negative: negativeRatio\n    }), _jsxs(Text, {\n      style: styles.ratioText,\n      children: [\"\\uBD80\\uC815 : \", Math.round(negativeRatio * 100), \"% , \\uAE0D\\uC815 : \", Math.round(positiveRatio * 100), \"%\"]\n    }), _jsxs(View, {\n      style: styles.buttonRow,\n      children: [_jsx(TouchableOpacity, {\n        style: styles.button,\n        onPress: function onPress() {\n          return navigation.navigate('Graph');\n        },\n        children: _jsx(Text, {\n          style: styles.buttonText,\n          children: \"\\uB204\\uC801 \\uC0C1\\uD0DC \\uADF8\\uB798\\uD504\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.button,\n        onPress: function onPress() {\n          return navigation.navigate('History');\n        },\n        children: _jsx(Text, {\n          style: styles.buttonText,\n          children: \"\\uC9C0\\uB09C \\uB0B4\\uC6A9 \\uBCF4\\uAE30\"\n        })\n      })]\n    }), _jsxs(View, {\n      style: styles.chatPrompt,\n      children: [_jsx(Text, {\n        style: styles.promptText,\n        children: \"\\uC548\\uB155\\uD558\\uC138\\uC694. \\uC624\\uB298\\uC740 \\uC5B4\\uB5A4 \\uD558\\uB8E8\\uC600\\uB098\\uC694?\"\n      }), _jsx(TouchableOpacity, {\n        style: styles.chatInputButton,\n        onPress: function onPress() {\n          return navigation.navigate('Chat');\n        },\n        children: _jsx(Text, {\n          style: styles.chatInputText,\n          children: \"\\uB20C\\uB7EC\\uC11C \\uCC44\\uD305\\uD558\\uAE30\"\n        })\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#0f0b12',\n    padding: 20,\n    alignItems: 'center'\n  },\n  title: {\n    color: '#fff',\n    fontSize: 40,\n    marginTop: 10\n  },\n  ratioText: {\n    color: '#fff',\n    fontSize: 26,\n    marginVertical: 10\n  },\n  buttonRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    width: '100%',\n    marginTop: 12\n  },\n  button: {\n    flex: 1,\n    backgroundColor: '#2a2430',\n    padding: 14,\n    marginHorizontal: 6,\n    borderRadius: 10,\n    alignItems: 'center'\n  },\n  buttonText: {\n    color: '#fff'\n  },\n  chatPrompt: {\n    position: 'absolute',\n    bottom: 40,\n    width: '100%',\n    alignItems: 'center'\n  },\n  promptText: {\n    color: '#fff',\n    fontSize: 16,\n    marginBottom: 10\n  },\n  chatInputButton: {\n    width: '90%',\n    backgroundColor: '#2a2430',\n    padding: 14,\n    borderRadius: 12,\n    alignItems: 'center'\n  },\n  chatInputText: {\n    color: '#fff',\n    fontSize: 16\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","SafeAreaView","View","Text","TouchableOpacity","StyleSheet","PieChartComponent","getEntries","jsx","_jsx","jsxs","_jsxs","HomeScreen","_ref","navigation","_useState","_useState2","_slicedToArray","positiveRatio","setPositiveRatio","_useState3","_useState4","negativeRatio","setNegativeRatio","unsubscribe","addListener","_asyncToGenerator","entries","posScore","reduce","acc","e","sentiment","label","negScore","total","style","styles","container","children","title","positive","negative","ratioText","Math","round","buttonRow","button","onPress","navigate","buttonText","chatPrompt","promptText","chatInputButton","chatInputText","create","flex","backgroundColor","padding","alignItems","color","fontSize","marginTop","marginVertical","flexDirection","justifyContent","width","marginHorizontal","borderRadius","position","bottom","marginBottom"],"sources":["/Users/youlim/Documents/GitHub/AI_App_Project/Today_Condition/screens/HomeScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { SafeAreaView, View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport PieChartComponent from '../components/PieChartComponent';\nimport { getEntries } from '../utils/storage';\n\nexport default function HomeScreen({ navigation }) {\n  const [positiveRatio, setPositiveRatio] = useState(0.0);\n  const [negativeRatio, setNegativeRatio] = useState(0.0);\n\n  useEffect(() => {\n    const unsubscribe = navigation.addListener('focus', async () => {\n      const entries = await getEntries();\n      const posScore = entries.reduce((acc, e) => acc + ((e.sentiment.label === 'positive') ? 1 : 0), 0);\n      const negScore = entries.reduce((acc, e) => acc + ((e.sentiment.label === 'negative') ? 1 : 0), 0);\n      const total = posScore + negScore;\n      if (total === 0) {\n        setPositiveRatio(0.0);\n        setNegativeRatio(0.0);\n      } else {\n        setPositiveRatio(posScore / total);\n        setNegativeRatio(negScore / total);\n      }\n    });\n    return unsubscribe;\n  }, [navigation]);\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <Text style={styles.title}>누적 상태</Text>\n      <PieChartComponent positive={positiveRatio} negative={negativeRatio} />\n      <Text style={styles.ratioText}>부정 : {Math.round(negativeRatio*100)}% , 긍정 : {Math.round(positiveRatio*100)}%</Text>\n\n      <View style={styles.buttonRow}>\n        <TouchableOpacity style={styles.button} onPress={() => navigation.navigate('Graph')}>\n          <Text style={styles.buttonText}>누적 상태 그래프</Text>\n        </TouchableOpacity>\n        <TouchableOpacity style={styles.button} onPress={() => navigation.navigate('History')}>\n          <Text style={styles.buttonText}>지난 내용 보기</Text>\n        </TouchableOpacity>\n      </View>\n\n      <View style={styles.chatPrompt}>\n        <Text style={styles.promptText}>안녕하세요. 오늘은 어떤 하루였나요?</Text>\n        <TouchableOpacity style={styles.chatInputButton} onPress={() => navigation.navigate('Chat')}>\n          <Text style={styles.chatInputText}>눌러서 채팅하기</Text>\n        </TouchableOpacity>\n      </View>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: { flex:1, backgroundColor:'#0f0b12', padding:20, alignItems:'center' },\n  title: { color:'#fff', fontSize:40, marginTop:10 },\n  ratioText: { color:'#fff', fontSize:26, marginVertical:10 },\n  buttonRow: { flexDirection:'row', justifyContent:'space-between', width:'100%', marginTop:12 },\n  button: { flex:1, backgroundColor:'#2a2430', padding:14, marginHorizontal:6, borderRadius:10, alignItems:'center' },\n  buttonText: { color:'#fff' },\n  chatPrompt: { position:'absolute', bottom:40, width:'100%', alignItems:'center' },\n  promptText: { color:'#fff', fontSize:16, marginBottom:10 },\n  chatInputButton: { width:'90%', backgroundColor:'#2a2430', padding:14, borderRadius:12, alignItems:'center' },\n  chatInputText: { color:'#fff', fontSize:16 }\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}